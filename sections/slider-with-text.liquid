{{ 'slider-with-text.css' |  asset_url |  stylesheet_tag }} 
<script src ="{{ "custom-splider.js" |  asset_url }}" defer></script>

{% style %}
  .padding-{{ section.id }} {
    padding-top: {{ section.settings.padding_top | divided_by: 2 }}px;
    padding-bottom: {{ section.settings.padding_bottom | divided_by: 2 }}px;
  }

  @media only screen and (min-width: 750px) {
    .padding-{{ section.id }} {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }

  }
{% endstyle %}

<div class="slideshow-with-text padding-{{ section.id }}">
    <div class="page-width">
        <splide-slider data-splide-options = '{
          "type": "loop",
          "perPage": 1,
          "pagination": true,
          "perMove": 1,
          "autoplay": true,    
          "interval": 3000
      }'>
            
            <section class="splide " aria-label="Splide Basic HTML Example">
            <div class="splide__track custom-border-radius">
                <ul class="splide__list">
                {% for block in section.blocks %}
                    <li class="splide__slide">
                        {%- if block.settings.desktop_image != blank or block.settings.mobile_image != blank -%}
                            <div class = "slideshow-with-text__position_relative">
                              {%
                                render 'image',
                                desktopImage: block.settings.desktop_image,
                                mobileImage: block.settings.mobile_image                                
                            %}
                            </div>
                            <div class="slideshow-with-text__position_absolute slideshow-with-text__content-position-{{block.id}}">
                                <div class="slideshow-with-text__text-wrapper slideshow-with-text__content-text-alignment-{{ block.id }}">
                                  {% if block.settings.pre_heading  != blank %}
                                    <ul class="slideshow-with-text__pre-heading">
                                      <li>{{ block.settings.pre_heading }}</li>
                                    </ul> 
                                  {% endif %}                                                                   

                                  {% if block.settings.heading_text != blank %}
                                    <div class="h2 slideshow-with-text__heading-link slideshow-with-text__heading-text-{{block.id}}">{{ block.settings.heading_text }}</div>
                                  {% endif %} 
                                  
                                  {% if block.settings.button_label != blank %}
                                    <a
                                      class="button slideshow-with-text__button slideshow-with-text__banner-button-{{ block.id }}"
                                      href="block.settings.button_link }}"
                                    >
                                      {{ block.settings.button_label }}
                                    </a>
                                {% endif %}
                                </div>
                              </div>
                        {%- endif -%}   
                    </li>
                    <style>
                      .slideshow-with-text__content-text-alignment-{{block.id}}{
                          text-align: {{ block.settings.text_alignment }};
                      }
                      .slideshow-with-text__content-position-{{block.id}}{
                          justify-content:  {{block.settings.vertical_alignment }};
                          align-items: {{block.settings.horizantal_alignment }};
                      }     
                      .slideshow-with-text__heading-text-{{block.id}}{
                        color: {{block.settings.heading_text_color}};
                      }                   
                      .slideshow-with-text__banner-button-{{block.id}}{
                          background:{{ block.settings.button_bg }};
                          color:{{ block.settings.button_color }};
                      }                            
                  </style>    
                    {% else %}
                        {% for i in (1..3) %}
                            <li class="splide__slide">
                            {{ 'product-' | append: i | placeholder_svg_tag }}
                            </li> 
                        {% endfor %}
                        
                {% endfor %}
                </ul>
            </div>
            </section>
        </splide-slider>
    </div>
</div>


    




{% schema %}
{
"name": "Banner Slide Show",
"tag": "section",
"settings": [
    {
        "type": "header",
        "content": "Section padding"
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "Padding top",
        "default": 36
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "Padding bottom",
        "default": 36
      },
      {
        "type": "header",
        "content": "Slider Options"
      },
      {
        "type": "checkbox",
        "id": "autoplay",
        "label": "Autoplay",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_pagination",
        "label": "Show Pagination",
        "default": true
      },
      {
        "type": "range",
        "id": "autoplay_duration",
        "min": 1000,
        "max": 9000,
        "step": 1000,
        "unit": "ms",
        "label": "Autoplay Duration",
        "default": 5000
      }
],
"blocks": [
    {
    "name": "Slide",
    "type": "slide",
    "settings": [
        {
        "type": "image_picker",
        "id": "desktop_image",
        "label": "Desktop image"
        },
        {
        "type": "image_picker",
        "id": "mobile_image",
        "label": "Mobile image"
        },
        {
        "type": "text",
        "id": "pre_heading",
        "label": "Pre Heading",
        "default": "Pre Heading"
        },
        {
        "type": "color",
        "id": "pre_heading_color",
        "label": "Pre Heading color",
        "default": "#fff"
        },
        {
        "type": "richtext",
        "id": "heading_text",
        "label": "Heading Text"
        },
        {
        "type": "color",
        "id": "heading_text_color",
        "label": "Heading Text color",
        "default": "#fff"
        },
        {
        "type": "text",
        "id": "button_label",
        "label": "Button label",
        "default": "Explore More"
        },
        {
        "type": "url",
        "id": "button_link",
        "label": "Button link"
        },
        {
        "type": "color",
        "id": "button_bg",
        "label": "Button background",
        "default": "#FFFFFF"
        },
        {
        "type": "color",
        "id": "button_color",
        "label": "Button color",
        "default": "#000000"
        },
        {
        "type": "select",
        "id": "text_alignment",
        "label": "Text Alignment",
        "options": [
            {
            "value": "left",
            "label": "Left"
            },
            {
            "value": "center",
            "label": "Center"
            },
            {
            "value": "Right",
            "label": "Right"
            }
        ],
        "default": "left"
        },

        {
        "type": "select",
        "id": "vertical_alignment",
        "label": "Vertical alignment",
        "options": [
            {
            "value": "start",
            "label": "Top"
            },
            {
            "value": "center",
            "label": "Center"
            },
            {
            "value": "end",
            "label": "End"
            }
        ],
        "default": "center"
        },
        {
        "type": "select",
        "id": "horizantal_alignment",
        "label": "Horizantal alignment",
        "options": [
            {
            "value": "start",
            "label": "Left"
            },
            {
            "value": "center",
            "label": "Center"
            },
            {
            "value": "end",
            "label": "Right"
            }
        ],
        "default": "center"
        }
    ]
    }
],
"presets": [
    {
    "name": "Banner Slide Show"
    }
]
}
{% endschema %}
